<div class="main-content">
    <div class="container-fluid">
        <!-- Spinner -->
        <div *ngIf="!vacante" class="row justify-content-center align-items-center vh-100">
            <mat-spinner></mat-spinner>
        </div>

        <mat-icon routerLink="/vacancies" class="m-l-5" style="cursor:pointer">arrow_back_ios</mat-icon>
        <!-- Card postulación -->
        <div *ngIf="vacante" class="row">
            <div class="col-md-8">
                <div class="card">
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-md-4 text-center">
                                <img *ngIf="!vacante.Usuario.foto_perfil" src="../../../assets/img/IECA-Blanco.jpg" class="img-fluid" alt="Imagen de la empresa">
                                <img *ngIf="vacante.Usuario.foto_perfil" [src]="vacante.Usuario.foto_perfil" class="img-fluid" alt="Imagen de la empresa">
                            </div>
                            <div class="col-md-8">
                                <h3 class="font-weight-bold m-t">{{vacante.puesto}}</h3>
                                <h4><b>Empresa: </b> {{vacante.Usuario.nombre}}</h4>
                                <h4><b>Dirección: </b> {{vacante.Usuario.ubicacion}}</h4>
                                <a [href]="vacante.Usuario.pagina_web" target="_blank" class="text-primary" style="cursor: pointer;">Visitar sitio web</a>
                                <p><small>Fecha de publicación: {{vacante.fecha_publicacion}} </small></p>
                                <p style="visibility: hidden;">No se ve </p>

                            </div>
                            <div class="posicion-t-r">
                                <!-- Boton de Favorito -->
                                <mat-icon *ngIf="vacantesFav.length > 0" (click)="unmarkFavorite()" class="text-danger justify-content-md-end" style="cursor:pointer">favorite</mat-icon>
                                <mat-icon *ngIf="vacantesFav.length == 0" (click)="markFavorite()" class="text-danger justify-content-md-end" style="cursor:pointer">favorite_border</mat-icon>
                            </div>
                            <div class="posicion-b-r" *ngIf="postulacion">
                                <button class="btn btn-primary btn-sm" (click)="validarPerfil()" matTooltip="Postularte a esta vacante">Postularme</button>
                            </div>
                            <div class="posicion-b-r" *ngIf="!postulacion">
                                <button *ngIf="pendiente" class="btn btn-danger btn-sm " (click)="confirmarCancelarPostulacion()" matTooltip="Cancelar postulación">Cancelar Postulación</button>
                                <p *ngIf="rechazada" class="card-description" style="margin-bottom: 0px;">Status: <span class="text-danger">Rechazada</span></p>
                                <p *ngIf="aceptada" class="card-description" style="margin-bottom: 0px;">Status: <span class="text-success">Aceptada</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card">
                    <div class="card-body">
                        <p class="font-weight-bold">Nivel de Experiencia:</p>
                        <p>{{vacante.nivel}}</p>
                        <p class="font-weight-bold">Modalidad:</p>
                        <p>{{vacante.modalidad}}</p>
                        <p class="font-weight-bold">Sueldo:</p>
                        <p>{{vacante.sueldo}}</p>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="vacante" class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-body">
                        <h3 class="font-weight-bold m-l-5">Acerca del empleo</h3>
                        <hr>
                        <p class="m-l-5">{{vacante.descripcion}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>